(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{2168:(e,s,t)=>{Promise.resolve().then(t.bind(t,574))},574:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var o=t(2860),a=t(6741),n=t(6937),r=t(3200),d=t(3345),i=t(3875);function l(){let e=(0,n.useRouter)(),[s,t]=(0,r.useState)({name:"",sponsor:"",phase:"Phase I",start_date:"",end_date:"",objectives:"",status:"Pending"}),[l,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),b=e=>{let{name:s,value:o}=e.target;t(e=>({...e,[s]:o}))},h=async t=>{t.preventDefault(),c(!0),u(null);try{let t={name:s.name,sponsor:s.sponsor,phase:s.phase,start_date:s.start_date,end_date:s.end_date,objectives:s.objectives,status:s.status},o=await (0,d.Jf)(t);console.log("New trial created:",o),o&&o.id?e.push("/trials/".concat(o.id)):e.push("/trials")}catch(s){var o,a;console.error("Failed to create trial:",s);let e="Failed to create trial. Please try again.";i.A.isAxiosError(s)&&(null===(a=s.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)?e=s.response.data.message:s instanceof Error&&(e=s.message),u(e)}finally{c(!1)}};return(0,o.jsx)(a.A,{children:(0,o.jsxs)("div",{className:"container mx-auto py-10",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Create New Clinical Trial"}),m&&(0,o.jsx)("p",{className:"text-red-500 bg-red-100 p-3 rounded-md mb-4",children:m}),(0,o.jsxs)("form",{onSubmit:h,className:"bg-white p-8 rounded-lg shadow-md space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trial Name / Title"}),(0,o.jsx)("input",{type:"text",name:"name",id:"name",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.name,onChange:b})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"sponsor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sponsor"}),(0,o.jsx)("input",{type:"text",name:"sponsor",id:"sponsor",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.sponsor,onChange:b})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"phase",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phase"}),(0,o.jsxs)("select",{name:"phase",id:"phase",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.phase,onChange:b,children:[(0,o.jsx)("option",{children:"Phase I"}),(0,o.jsx)("option",{children:"Phase II"}),(0,o.jsx)("option",{children:"Phase III"}),(0,o.jsx)("option",{children:"Phase IV"}),(0,o.jsx)("option",{children:"Not Applicable"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Planned Start Date"}),(0,o.jsx)("input",{type:"date",name:"start_date",id:"start_date",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.start_date,onChange:b})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Planned End Date"}),(0,o.jsx)("input",{type:"date",name:"end_date",id:"end_date",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.end_date,onChange:b})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"objectives",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Objectives"}),(0,o.jsx)("textarea",{name:"objectives",id:"objectives",rows:4,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.objectives,onChange:b})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,o.jsxs)("select",{name:"status",id:"status",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s.status,onChange:b,children:[(0,o.jsx)("option",{value:"Pending",children:"Pending"}),(0,o.jsx)("option",{value:"Active",children:"Active"}),(0,o.jsx)("option",{value:"Recruiting",children:"Recruiting"}),(0,o.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,o.jsx)("option",{value:"Completed",children:"Completed"}),(0,o.jsx)("option",{value:"Terminated",children:"Terminated"})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:l,children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:l,children:l?"Submitting...":"Create Trial"})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[787,680,741,685,411,358],()=>s(2168)),_N_E=e.O()}]);